<!DOCTYPE html>
<html lang="en">

<head>
    <title>ERS-OL</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/stylesheets/main.css" rel="stylesheet">
</head>

<body>
    <h1>ERS-OL</h1>
    <p>Player Name:</p>
    <p><textarea id="namebox" rows="1" cols="20" maxlength="20"></textarea></p>
    <p>Lobby Name:</p>
    <p><textarea id="lobbybox" rows="1" cols="20" maxlength="20"></textarea></p>
    <p>Press ENTER to join lobby</p>
    <footer id="copyright">&copy; 2021 NitroGuy</footer>

    <script>
        document.getElementById("lobbybox").addEventListener("keydown", function (event)
        {
            if (event.code === "Enter" || event.code === "NumpadEnter")
            {
                event.preventDefault()
                let playerName = document.getElementById("namebox").value.split(/[^0-9A-Za-z_\-]/).join("")
                let lobbyName = document.getElementById("lobbybox").value.split(/[^0-9A-Za-z_\-]/).join("")
                if (lobbyName !== null && lobbyName !== "" && playerName !== null && playerName !== "")
                {
                    window.location = ["./play/", lobbyName, "+", playerName].join("")
                }
            }
        })
    </script>
</body>


</html>
